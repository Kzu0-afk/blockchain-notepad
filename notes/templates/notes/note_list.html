{% extends 'notes/base.html' %}
{% block title %}My Notes{% endblock %}

{% block content %}
<h1>My Notes</h1>
<a href="{% url 'notes:note_create' %}" class="btn btn-primary">Create a New Note</a>
<hr>
{% for note in notes %}
<div id="note-{{ note.pk }}" class="note-card">
    <h2>{{ note.title }}</h2>
    <p>{{ note.description }}</p>
    <small class="timestamp">Last updated: {{ note.updatedAt }}</small>
    <div>
        <a href="{% url 'notes:note_edit' note.pk %}" class="btn btn-primary">Edit</a>
        <button
            class="btn btn-secondary"
            hx-delete="{% url 'notes:note_delete' note.pk %}"
            hx-target="#note-{{ note.pk }}"
            hx-swap="outerHTML"
            hx-confirm="Are you sure?"
            hx-headers='{"X-CSRFToken": "{{csrf_token}}"}'>
            Delete
        </button>
    </div>
</div>
{% empty %}
<p>You haven't created any notes yet.</p>
{% endfor %}
{% endblock %}
